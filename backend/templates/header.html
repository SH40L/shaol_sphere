<!-- templates/header.html -->

<header class="shaol-header">
  <div class="header-container">

    <!-- ðŸ”¹ Left: Logo -->
    <div class="left-section">
      <a href="/">
        <img src="{{ url_for('static', filename='assets/Logo.jpg') }}" alt="SHAOL Sphere Logo" class="logo-img">
      </a>
    </div>

    <!-- ðŸ”¹ Middle: Navigation Icons -->
    <nav class="main-nav">
      {% if g.user %}
      <a href="/{{ g.user.username }}" id="nav-profile" title="Profile"
        class="{% if request.path == '/' + g.user.username %}active{% endif %}">&#128100;</a>
      {% endif %}

      <a href="/" id="nav-feed" title="Feed" class="{% if request.path == '/' %}active{% endif %}">&#128240;</a>

      <a href="/findfriends" id="nav-findfriends" title="Find Friends"
        class="{% if request.path == '/findfriends' %}active{% endif %}">&#128101;</a>

      <a href="/notifications" id="nav-notifications" title="Notifications"
        class="{% if request.path == '/notifications' %}active{% endif %}">&#128276;
        <span id="notif-badge" class="notif-badge" style="display: none;"></span>
      </a>
    </nav>

    <!-- ðŸ”¹ Right: Search & Burger -->
    <div class="right-section">
      <input type="text" id="search-posts" placeholder="Search posts..." />
      <div class="burger-menu" onclick="toggleBurgerMenu()">â˜°</div>
      <div id="burger-dropdown" class="burger-dropdown hidden">
        <a href="/settings">Settings</a>
        <a href="#" id="openEmergencyModal">Emergency Alert</a>
        <a href="/auth/logout">Logout</a>
      </div>

      <!-- ðŸ”¥ Emergency Alert Modal -->
      <div id="emergencyModal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Send Emergency Alert</h3>
            <span id="closeEmergencyModal">&times;</span>
          </div>
          <textarea id="emergencyMessage" placeholder="Describe your emergency..."></textarea>
          <p id="locationStatus" style="font-size: 13px; color: #888;">Fetching location...</p>
          <button id="submitEmergencyAlert" class="disabled-post-btn" disabled>Send Alert</button>
        </div>
      </div>

      <!-- âœ… Toast Notification -->
      <div id="emergencyToast" class="custom-toast">Emergency alert sent!</div>
    </div>

  </div>
</header>